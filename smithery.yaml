# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

startCommand:
  type: http
  configSchema:
    # JSON Schema defining the configuration options for the MCP.
    {}
  commandFunction:
    # A JS function that produces the CLI command based on the given config to start the MCP on HTTP.
    |-
    (config) => {
      // Try to detect if bun is available
      const isBunAvailable = (() => {
        try {
          require('child_process').execSync('bun --version', { stdio: 'ignore' });
          return true;
        } catch (e) {
          return false;
        }
      })();

      return {
        command: isBunAvailable ? 'bunx' : 'npx',
        args: ['figma-mcp-mini@latest'],
        port: 3000  // Default port for HTTP transport
      };
    }
